#!/usr/bin/env bash

if [[ -z "$JOURNAL_DIR" ]]; then
	echo 'Missing $JOURNAL_DIR env variable.' >&2
	exit 1
fi

#usage() {
#	cat <<-EOF
#	usage: ${0##*/} <command> [arguments]
#
#	commands:
#	  bookmarks
#	  calendar
#	  diary
#	  help
#	  open [document]
#	EOF
#}

# TODO diary
# TODO reminders/events/calendar
# TODO bookmarks

document="$1"
if [[ -z "$1" ]]; then
	document='Index'
fi
document="$JOURNAL_DIR/${document}.jtxt"

if [[ -e "$document" ]]; then
	exec vim "$document"
else
	echo "File '$document' does not exist." >&2
	exit 1
fi

#case "$1" in
#	mute)   toggle_mute ;;
#	mic)    toggle_mute_mic ;;
#	up)     mod_volume '+5%' ;;
#	down)   mod_volume '-5%' ;;
#	get)    get_volume ;;
#	getmic) get_mic ;;
#	*)      fail ;;
#esac
